<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Listado de Proyectos</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex flex-col min-h-screen font-sans">

  <header class="bg-[#2c3e50] text-white p-4 text-center font-bold text-xl">
    Listado de proyectos
  </header>

  <div class="flex flex-1">
    <main class="flex-1 p-8 bg-[#f4f4f4] overflow-auto">

      <div class="text-sm text-[#7f8c8d] mb-4">Inicio &gt; Listado de Proyectos</div>

      <h2 class="text-2xl mb-6 text-[#34495e] font-semibold">Listado de Proyectos</h2>

      <ul id="listaProyectos" class="space-y-4">
        <!-- Proyectos cargados aquí -->
      </ul>

      <h2 class="text-2xl mt-12 mb-6 text-[#34495e] font-semibold">Asignaciones de Proyectos</h2>

      <ul id="listaAsignaciones" class="space-y-4">
        <!-- Asignaciones cargadas aquí -->
      </ul>

    </main>

    <aside class="w-[250px] bg-[#ecf0f1] p-4 border-l border-gray-300">
      <nav class="flex flex-col space-y-2">
        <a href="Main.html" class="block p-3 bg-[#bdc3c7] text-[#2c3e50] rounded hover:bg-[#95a5a6]">Crear proyecto</a>
        <a href="Listado_proyectos.html" class="block p-3 bg-[#bdc3c7] text-[#2c3e50] rounded hover:bg-[#95a5a6]">Listado de proyectos</a>
        <a href="Buscar_proyecto.html" class="block p-3 bg-[#bdc3c7] text-[#2c3e50] rounded hover:bg-[#95a5a6]">Buscar proyecto</a>
        <a href="Participantes.html" class="block p-3 bg-[#bdc3c7] text-[#2c3e50] rounded hover:bg-[#95a5a6]">Participantes</a>
        <a href="Asignacion.html" class="block p-3 bg-[#bdc3c7] text-[#2c3e50] rounded hover:bg-[#95a5a6]">Asignación de proyectos</a>
      </nav>
    </aside>
  </div>

  <footer class="bg-[#2c3e50] text-white p-4 text-center text-sm">
    <p>&copy; 2025 Mateo Martinez</p>
    <p>Taller Tailwinds</p>
  </footer>

  <script>
    window.onload = function() {
      cargarProyectos();
      cargarAsignaciones();
    };

    function cargarProyectos() {
      let proyectos = JSON.parse(localStorage.getItem("proyectos")) || [];
      const listaProyectos = document.getElementById("listaProyectos");

      if (proyectos.length === 0) {
        listaProyectos.innerHTML = '<li class="text-gray-500">No hay proyectos disponibles.</li>';
        return;
      }

      proyectos.forEach(proyecto => {
        const item = document.createElement("li");
        item.className = "bg-white p-4 rounded shadow";

        item.innerHTML = `
          <p><span class="font-semibold text-[#2c3e50]">ID Proyecto:</span> ${proyecto.id}</p>
          <p><span class="font-semibold text-[#2c3e50]">Nombre:</span> ${proyecto.nombre}</p>
          <p><span class="font-semibold text-[#2c3e50]">Descripción:</span> ${proyecto.descripcion}</p>
          <p><span class="font-semibold text-[#2c3e50]">Fecha Inicio:</span> ${proyecto.inicio}</p>
          <p><span class="font-semibold text-[#2c3e50]">Fecha Final:</span> ${proyecto.final}</p>
          <p><span class="font-semibold text-[#2c3e50]">Valor:</span> ${proyecto.valor}</p>
        `;
        listaProyectos.appendChild(item);
      });
    }

    function cargarAsignaciones() {
      let asignaciones = JSON.parse(localStorage.getItem("asignaciones")) || [];
      const listaAsignaciones = document.getElementById("listaAsignaciones");

      if (asignaciones.length === 0) {
        listaAsignaciones.innerHTML = '<li class="text-gray-500">No hay asignaciones registradas.</li>';
        return;
      }

      asignaciones.forEach(asignacion => {
        const item = document.createElement("li");
        item.className = "bg-white p-4 rounded shadow";

        item.innerHTML = `
          <p><span class="font-semibold text-[#2c3e50]">ID Participante:</span> ${asignacion.idParticipante}</p>
          <p><span class="font-semibold text-[#2c3e50]">Nombre Participante:</span> ${asignacion.nombreParticipante}</p>
          <p><span class="font-semibold text-[#2c3e50]">ID Proyecto:</span> ${asignacion.idProyecto}</p>
          <p><span class="font-semibold text-[#2c3e50]">Nombre Proyecto:</span> ${asignacion.nombreProyecto}</p>
        `;
        listaAsignaciones.appendChild(item);
      });
    }
  </script>

</body>
</html>
